language: java
jdk:
  - oraclejdk8
env:
  global:
    - secure: "CPVYJF33ER3iSo4ac7MnfNnVqqjDTEcYoMKPkSyiOsrMjYlgVgalRwGW2ojc5kUwMScSAXprUk4OsJ2y3b3pxipThok+/kVfGvrTIc3uSXwmBYKZQ4UBZLamYCCU2mBywajx20m2ZKj4Lr+S7hIWTmkcU0pvt9k8z4akiVnhPPo+258bNeQ2Pld7nomiygXE8ukVCpWXqQuEoaaV0kzCv7HqupsAZWTO+kGlaAWyD6kbcs2m0yXQLr6BQsQAL12jONJEZflQQXh2QVWwn8sR/DybXCfXSengyh5P7eHQ9n8ck79OO/jWw1M5m5VTSRujJISarhpBKIoRv02JvlpOkETKLbl9WR1z0lECBDrOYtp6rI6z/+fCn9w+333DVP9ro8btrcdztIms0BSZ1hk/usQg7iGV/GJ7Z5LaouqOYzkseqAG7U5gCmjIct+piH1biY0Hkcyv6q+2oG/H4NfriQJbUumeNNIAB3lihrdN7mXjwBjt1s57t1P5mqOySyKzFqN2zUIp/ttdWkWYu71TmPdiZvD9nfdBxhanuELKj0CSifEK/zmi6y9Ze+Ijc3iG8T/9IDXvGQQE5RYVRhVwxVc0deKj9tWsYDAVLhgbrzFh5BmppQ+Kty1sPNo6+akBlahV7KqaLDzShdsKOcHnWs2Qt48ioXnAgL3cJtFOPQw="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "EIv/Vcx9oL9sBBqHay4w1S5Bai/Vqv2x9rsNqJanft66f0DMQlAa56wHkiAVxZhFdkb3q/x4By1hmxL5as0c10pVY3cuj5/5gd63MVFYB7yT7/LPEkdctAwc22VVGg8w7uSFNjObfeVuj3H6TEbO/rJuWZOhuZa+LXKub6TQNSJ/Nri7hC3VRpC295tU5IOywV3pB3yUiYSQkvjsRmcIEGEhxYatxqxfPMzHau9F18CRpQYxM5Rdp1piuxsDAgYMJgKmDMxiRDw/0n/OiJnk107rZ8ApOY4RM+j74iQf+u2h0aL8m2uCS91GbCq82Od6H8yfrB9NXQFUMHnawtbHGRYflwYSRAVB5sUjR6Bx7OGbhw85ObGlp57UNN+UoNEa1uEiNbVPtJNOoZpvGI6Hs5igsIaAtgzn8W5W8brscAV6E5UQ6/vquEJcYITZnTkXU9mzcQX06zwu3P/HNTq5yYF/e+l+RQGEY52Wvhd92+34/1M4352+9nHFQd7m1mpAUlSLV32zHO1ANWz764n6Q3t2nNEEBFYE+GwvfX7EVM2H0Mdmm4djoKSDLE5qD8jsm3zkvqH3UFga9LK2j98bApsEcvjqLek+fNn2y66MLe3cRjbXLMIaMhdO/bFwM/sHEYXPRNIIgTAnK03zZxZnPYy1bjIi2hf8nUU6LcY6Fsk="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "jP11pWESg9i6VcpQB9YcDbA5PWKgPYPT4Tx9V5XYom0zgOoZRzWqkzi9ghnWV0lklKkP8kuBPLG2geLVaiIsdyM1MqExi0GoQsCWg5Ra/2dNpVgk4XcfKcoLwN/DZDOXOMvBrFp2th5R0A+mGAXRYb/orSw+BJZN1dA6YDzB/C9niXX8g+hDp059WaocCmzAFgwuVqZ2+C6asuH2p1G+Ed+20kOHEdRmTFRDNGVogwfDVOyNu9MS8Lg2N6rbCVJsFsx+UKfuZUZBDGIpHgG0Vx1RBaCFZTaMbZlQkat5fvjS028c3qf3VZs+fu/sGjoRfXKsSdp247aEyqykz7VCh+JmyxfkL0knralR6qp5u38+rC/MmfjK/01EUYLa8IIIX/238mFdHBlKGjVQjEKz2enUhn2Vttm8hOY+x+U6KhpVArW9aYv6XKnZYPgZzAX1KtZw8ohAKHViDmAH+6pxgylqlmpzniSO0d4QPzVrMRui2chGGVETX8BTBYhX1wzrvAjtpDh28QI3EoWyawEXHgE1tCX3tjwE3zm1C6JJ5lxWQfxTizuo9jxeYctNi4GMTNI33knyz+5P2/4vxjU+f5k9aiC5nekZdUyTUHZrc9u2ByLLvxJs/QEyJrYDcp4BCGqdeAX3xYCUsFC9J6XScLcznBBAsCVg3hrnSvZVyZ8="
    - # ^^ GPG_KEY_NAME
    - secure: "LJbLYBUgwIiA0hX5Hj2qeHJAyoo4wfAc4YemO/aeeBY7kyNT4DpzaBpfgs+XO+NccnLX5ftEhKKwqCN5hJs2li1u4iJDHPHmkv7faQ2LS+3yRw8hIbIOdNm7VOSN695AdWcZ/GPdnaWpa/jeG/OwbwfBQefVFQOaLId7CroRC5/tlzn8rsJkfrqYb/AzR6UJbNbbA9ptT3lqL9V0wd9s1J03rfOrO/XreqWzShqR8GxPVjWiTgipyB618gaaUR19lA7pCbNOFTnHOagAOrAuOj+/ctkAu+jklv4nW9b4HVgfbDa5fMDdjyIEZ4QWQQoRrGHsilEII5+IRmxfzKpt03zNOjxzaNRr/BtrlTV7hlkezgckmQAP97SXri+j1n1hNXV/TaubE4CC+A5mOG8mReuN84EjTzrxTjYdgjVf9aVK6tDfWhSXleoe/x31SJC0gzldFSQw13ExbS2jpAH0UWs0H5I3tbvpFolQIh4eUhjoYMwaM7Q/Iw3wt2z4TM3RRYae2htu0JAADavrzuZ7W+/fS+L41CuQzhf44Hixzj/ZpmS2vOORSoiuLPEuyEyP7CXHCGC+jmb0ewIEdNuEvUo4smEPOMhNPb9Qbs0GxjM8sZV69af/CKxo2gOuKZjq2s6NNXVOGNyLeiC6/FX8fiDwDE4H+hkmKj85vQcEUe0="
    - # ^^ GPG_PASSPHRASE
install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh